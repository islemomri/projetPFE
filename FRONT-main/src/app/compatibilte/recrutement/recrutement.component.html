<div class="container">
  <h3>Choisissez un poste</h3>
  <p-dropdown 
    [options]="postes" 
    [(ngModel)]="selectedPoste" 
    optionLabel="titre" 
    optionValue="id"
    placeholder="Sélectionner un poste"
    (onChange)="onPosteChange($event)"
    [style]="{'margin-bottom' : '10px'}">
  </p-dropdown>

  <div *ngFor="let candidat of candidats" class="candidat-card">
    <div class="card-content">
      <div class="result-item">
        <h4>{{ candidat.nom }} 
         
        </h4>
        
        <p-metergroup [value]="[
          { 
            label: 'Compatibilité', 
            value: candidat.scoreRecommandation, 
            color: candidat.scoreRecommandation >= 60 ? '#60a5fa' :
            candidat.scoreRecommandation >= 40 ? '#fbbf24': '#f87171'
          }
        ]"></p-metergroup>
      </div>
      
      <div class="result-item">
        <p><i class="pi pi-graduation-cap"></i> {{ candidat.diplome }}</p>
      </div>
      
      <div class="result-item">
        <p><i class="pi pi-briefcase"></i> {{ candidat.niveauExperience }}</p>
      </div>
      
      <div class="result-item">
        <p><i class="pi pi-cog"></i> {{ candidat.competences }}</p>
      </div>
    </div>
  </div>
</div>
